<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Generador de Mazmorras</title>
  <style>
    body {
      background-color: #111;
      margin: 0;
      overflow: auto;
    }

    #mapa {
      position: relative;
      width: 100%;
      height: 100vh;
      perspective: 2000px;
      transform-style: preserve-3d;
    }

    .tile {
      position: absolute;
      width: 256px;
      height: 128px;
      transform: rotateX(60deg) rotateZ(45deg);
      transform-origin: center center;
      background-size: cover;
      background-repeat: no-repeat;
    }
  </style>
</head>
<body>
  <div id="mapa"></div>

  <script>
    const mapa = document.getElementById('mapa');
    const filas = 10;
    const columnas = 10;

    const tiles = {
      "bosque": "/static/Tiles/Bosque.png",
      "desierto": "/static/Tiles/Desierto.png",
      "cueva": "/static/Tiles/Cueva.png"
    };

    function generarMapa() {
      for (let y = 0; y < filas; y++) {
        for (let x = 0; x < columnas; x++) {
          const tipo = escogerBioma(x, y);
          const tile = document.createElement('div');
          tile.className = 'tile';
          tile.style.backgroundImage = `url('${tiles[tipo]}')`;

          const left = (x - y) * 128 + window.innerWidth / 2;
          const top = (x + y) * 64;
          tile.style.left = `${left}px`;
          tile.style.top = `${top}px`;

          mapa.appendChild(tile);
        }
      }
    }

    function escogerBioma(x, y) {
      const tipos = ["bosque", "desierto", "cueva"];
      return tipos[Math.floor(Math.random() * tipos.length)];
    }

    generarMapa();
  </script>
</body>
</html>